/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/crisp-sdk-web";
exports.ids = ["vendor-chunks/crisp-sdk-web"];
exports.modules = {

/***/ "(ssr)/./node_modules/crisp-sdk-web/dist/crisp.umd.js":
/*!******************************************************!*\
  !*** ./node_modules/crisp-sdk-web/dist/crisp.umd.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("(function (global, factory) {\n     true ? factory(exports) :\n    0;\n})(this, (function (exports) { 'use strict';\n\n    var CrispMessage = /** @class */ (function () {\n        function CrispMessage(crisp) {\n            this.parent = crisp;\n        }\n        CrispMessage.prototype.send = function (type, content) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"do\", \"message:send\", [type, content]]);\n        };\n        CrispMessage.prototype.sendText = function (content) {\n            this.send(\"text\", content);\n        };\n        CrispMessage.prototype.sendFile = function (content) {\n            this.send(\"file\", content);\n        };\n        CrispMessage.prototype.sendAnimation = function (content) {\n            this.send(\"animation\", content);\n        };\n        CrispMessage.prototype.sendAudio = function (content) {\n            this.send(\"audio\", content);\n        };\n        CrispMessage.prototype.show = function (type, content) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"do\", \"message:show\", [type, content]]);\n        };\n        CrispMessage.prototype.showText = function (content) {\n            this.show(\"text\", content);\n        };\n        CrispMessage.prototype.showFile = function (content) {\n            this.show(\"file\", content);\n        };\n        CrispMessage.prototype.showAnimation = function (content) {\n            this.show(\"animation\", content);\n        };\n        CrispMessage.prototype.showAudio = function (content) {\n            this.show(\"audio\", content);\n        };\n        CrispMessage.prototype.showPicker = function (content) {\n            this.show(\"picker\", content);\n        };\n        CrispMessage.prototype.showField = function (content) {\n            this.show(\"field\", content);\n        };\n        CrispMessage.prototype.showCarousel = function (content) {\n            this.show(\"carousel\", content);\n        };\n        CrispMessage.prototype.markAsRead = function () {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"do\", \"message:read\"]);\n        };\n        CrispMessage.prototype.onMessageSent = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"message:sent\"]);\n            window.$crisp.push([\"on\", \"message:sent\", callback]);\n        };\n        CrispMessage.prototype.onMessageReceived = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"message:received\"]);\n            window.$crisp.push([\"on\", \"message:received\", callback]);\n        };\n        CrispMessage.prototype.onMessageComposeSent = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"message:compose:sent\"]);\n            window.$crisp.push([\"on\", \"message:compose:sent\", callback]);\n        };\n        CrispMessage.prototype.onMessageComposeReceive = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"message:compose:received\"]);\n            window.$crisp.push([\"on\", \"message:compose:received\", callback]);\n        };\n        return CrispMessage;\n    }());\n\n    var CrispUser = /** @class */ (function () {\n        function CrispUser(crisp) {\n            this.parent = crisp;\n        }\n        CrispUser.prototype.setNickname = function (nickname) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"set\", \"user:nickname\", [nickname]]);\n        };\n        CrispUser.prototype.setEmail = function (email, hmac) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"set\", \"user:email\", [email, hmac]]);\n        };\n        CrispUser.prototype.setPhone = function (phone) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"set\", \"user:phone\", [phone]]);\n        };\n        CrispUser.prototype.setAvatar = function (avatar) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"set\", \"user:avatar\", [avatar]]);\n        };\n        CrispUser.prototype.setCompany = function (name, data) {\n            var _payload = {};\n            if (data && data.url) {\n                _payload.url = data.url;\n            }\n            if (data && data.description) {\n                _payload.description = data.description;\n            }\n            if (data && data.employment) {\n                _payload.employment = [\n                    data.employment.title\n                ];\n                if (data.employment.role) {\n                    _payload.employment.push(data.employment.role);\n                }\n            }\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"set\", \"user:company\", [name, _payload]]);\n        };\n        CrispUser.prototype.getEmail = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"user:email\");\n        };\n        CrispUser.prototype.getPhone = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"user:phone\");\n        };\n        CrispUser.prototype.getNickname = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"user:nickname\");\n        };\n        CrispUser.prototype.getAvatar = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"user:avatar\");\n        };\n        CrispUser.prototype.getCompany = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"user:company\");\n        };\n        CrispUser.prototype.onEmailChanged = function (callback) {\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"off\", \"user:email:changed\"]);\n                window.$crisp.push([\"on\", \"user:email:changed\", callback]);\n            }\n        };\n        CrispUser.prototype.onPhoneChanged = function (callback) {\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"off\", \"user:phone:changed\"]);\n                window.$crisp.push([\"on\", \"user:phone:changed\", callback]);\n            }\n        };\n        CrispUser.prototype.onNicknameChanged = function (callback) {\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"off\", \"user:nickname:changed\"]);\n                window.$crisp.push([\"on\", \"user:nickname:changed\", callback]);\n            }\n        };\n        CrispUser.prototype.onAvatarChanged = function (callback) {\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"off\", \"user:avatar:changed\"]);\n                window.$crisp.push([\"on\", \"user:avatar:changed\", callback]);\n            }\n        };\n        return CrispUser;\n    }());\n\n    var CrispTrigger = /** @class */ (function () {\n        function CrispTrigger(crisp) {\n            this.parent = crisp;\n        }\n        CrispTrigger.prototype.run = function (name) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"do\", \"trigger:run\", [name]]);\n        };\n        return CrispTrigger;\n    }());\n\n    exports.EventsColors = void 0;\n    (function (EventsColors) {\n        EventsColors[\"Red\"] = \"red\";\n        EventsColors[\"Orange\"] = \"orange\";\n        EventsColors[\"Yellow\"] = \"yellow\";\n        EventsColors[\"Green\"] = \"green\";\n        EventsColors[\"Blue\"] = \"blue\";\n        EventsColors[\"Purple\"] = \"purple\";\n        EventsColors[\"Pink\"] = \"pink\";\n        EventsColors[\"Brown\"] = \"brown\";\n        EventsColors[\"Grey\"] = \"grey\";\n        EventsColors[\"Black\"] = \"black\";\n    })(exports.EventsColors || (exports.EventsColors = {}));\n    var CrispSession = /** @class */ (function () {\n        function CrispSession(crisp) {\n            this.parent = crisp;\n        }\n        CrispSession.prototype.reset = function (reload) {\n            if (reload === void 0) { reload = false; }\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.do(\"session:reset\", [reload]);\n            }\n        };\n        CrispSession.prototype.setSegments = function (segments, overwrite) {\n            this.parent.createSingletonIfNecessary();\n            $crisp.push([\"set\", \"session:segments\", [segments, overwrite]]);\n        };\n        CrispSession.prototype.setData = function (data) {\n            var _this = this;\n            var _payload = [];\n            Object.entries(data).forEach(function (item) {\n                if (_this.isValidDataValue(item[0])) {\n                    _payload.push([item[0], item[1]]);\n                }\n            });\n            this.parent.createSingletonIfNecessary();\n            $crisp.push([\"set\", \"session:data\", [_payload]]);\n        };\n        CrispSession.prototype.pushEvent = function (name, data, color) {\n            if (data === void 0) { data = {}; }\n            if (color === void 0) { color = exports.EventsColors.Blue; }\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"set\", \"session:event\", [[[name, data, color]]]]);\n            }\n        };\n        CrispSession.prototype.getData = function (key) {\n            if (!this.parent.isCrispInjected()) {\n                return undefined;\n            }\n            return window.$crisp.get(\"session:data\", key);\n        };\n        CrispSession.prototype.getIdentifier = function () {\n            if (!this.parent.isCrispInjected()) {\n                return null;\n            }\n            return window.$crisp.get(\"session:identifier\");\n        };\n        CrispSession.prototype.onLoaded = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"session:loaded\"]);\n            window.$crisp.push([\"on\", \"session:loaded\", callback]);\n        };\n        CrispSession.prototype.isValidDataValue = function (value) {\n            return (typeof value === \"string\" ||\n                typeof value === \"number\" ||\n                typeof value === \"boolean\");\n        };\n        return CrispSession;\n    }());\n\n    var CrispChat = /** @class */ (function () {\n        function CrispChat(crisp) {\n            this.parent = crisp;\n        }\n        CrispChat.prototype.show = function () {\n            this.parent.autoInjectIfNecessasy();\n            window.$crisp.push([\"do\", \"chat:show\"]);\n        };\n        CrispChat.prototype.hide = function () {\n            this.parent.autoInjectIfNecessasy();\n            window.$crisp.push([\"do\", \"chat:hide\"]);\n        };\n        CrispChat.prototype.open = function () {\n            this.parent.autoInjectIfNecessasy();\n            window.$crisp.push([\"do\", \"chat:open\"]);\n        };\n        CrispChat.prototype.close = function () {\n            if (this.parent.isCrispInjected()) {\n                window.$crisp.push([\"do\", \"chat:close\"]);\n            }\n        };\n        CrispChat.prototype.unreadCount = function () {\n            if (!this.parent.isCrispInjected()) {\n                return 0;\n            }\n            return window.$crisp.get(\"chat:unread:count\");\n        };\n        CrispChat.prototype.isChatOpened = function () {\n            if (!this.parent.isCrispInjected()) {\n                return false;\n            }\n            return window.$crisp.is(\"chat:opened\");\n        };\n        CrispChat.prototype.isVisible = function () {\n            if (!this.parent.isCrispInjected()) {\n                return false;\n            }\n            return window.$crisp.is(\"chat:visible\");\n        };\n        CrispChat.prototype.onChatInitiated = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"chat:initiated\"]);\n            window.$crisp.push([\"on\", \"chat:initiated\", callback]);\n        };\n        CrispChat.prototype.onChatOpened = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"chat:opened\"]);\n            window.$crisp.push([\"on\", \"chat:opened\", callback]);\n        };\n        CrispChat.prototype.onChatClosed = function (callback) {\n            this.parent.createSingletonIfNecessary();\n            window.$crisp.push([\"off\", \"chat:closed\"]);\n            window.$crisp.push([\"on\", \"chat:closed\", callback]);\n        };\n        return CrispChat;\n    }());\n\n    exports.ChatboxColors = void 0;\n    (function (ChatboxColors) {\n        ChatboxColors[\"Default\"] = \"default\";\n        ChatboxColors[\"Amber\"] = \"amber\";\n        ChatboxColors[\"Black\"] = \"black\";\n        ChatboxColors[\"Blue\"] = \"blue\";\n        ChatboxColors[\"BlueGrey\"] = \"blue_grey\";\n        ChatboxColors[\"LightBlue\"] = \"light_blue\";\n        ChatboxColors[\"Brown\"] = \"brown\";\n        ChatboxColors[\"Cyan\"] = \"cyan\";\n        ChatboxColors[\"Green\"] = \"green\";\n        ChatboxColors[\"LightGreen\"] = \"light_green\";\n        ChatboxColors[\"Grey\"] = \"grey\";\n        ChatboxColors[\"Indigo\"] = \"indigo\";\n        ChatboxColors[\"Orange\"] = \"orange\";\n        ChatboxColors[\"DeepOrange\"] = \"deep_orange\";\n        ChatboxColors[\"Pink\"] = \"pink\";\n        ChatboxColors[\"Purple\"] = \"purple\";\n        ChatboxColors[\"DeepPurple\"] = \"deep_purple\";\n        ChatboxColors[\"Red\"] = \"red\";\n        ChatboxColors[\"Teal\"] = \"teal\";\n    })(exports.ChatboxColors || (exports.ChatboxColors = {}));\n    exports.ChatboxPosition = void 0;\n    (function (ChatboxPosition) {\n        ChatboxPosition[\"Left\"] = \"left\";\n        ChatboxPosition[\"Right\"] = \"right\";\n    })(exports.ChatboxPosition || (exports.ChatboxPosition = {}));\n    var Crisp = /** @class */ (function () {\n        function Crisp() {\n            // Options\n            this.clientUrl = \"https://client.crisp.chat/l.js\";\n            this.websiteId = \"\";\n            this.autoload = true;\n            // States\n            this.injected = false;\n            this.chat = new CrispChat(this);\n            this.session = new CrispSession(this);\n            this.user = new CrispUser(this);\n            this.message = new CrispMessage(this);\n            this.trigger = new CrispTrigger(this);\n        }\n        Crisp.prototype.configure = function (websiteId, options) {\n            if (options === void 0) { options = {}; }\n            this.websiteId = websiteId;\n            this.tokenId = options.tokenId;\n            this.locale = options.locale;\n            this.sessionMerge = options.sessionMerge;\n            this.cookieDomain = options.cookieDomain;\n            this.lockFullview = options.lockFullview;\n            this.lockMaximized = options.lockMaximized;\n            this.safeMode = options.safeMode;\n            if (options.clientUrl !== undefined) {\n                this.clientUrl = options.clientUrl;\n            }\n            if (options.autoload !== undefined) {\n                this.autoload = options.autoload;\n            }\n            // Autoload Crisp if option is enabled\n            if (this.autoload) {\n                this.load();\n            }\n        };\n        Crisp.prototype.load = function () {\n            var _head = document.getElementsByTagName(\"head\");\n            this.createSingletonIfNecessary();\n            // Prevents from loading Crisp twice\n            if (this.isCrispInjected() === true) {\n                return;\n            }\n            if (!this.websiteId) {\n                throw new Error(\"websiteId must be set before loading Crisp\");\n            }\n            window.CRISP_WEBSITE_ID = this.websiteId;\n            window.CRISP_RUNTIME_CONFIG = {};\n            if (this.tokenId) {\n                window.CRISP_TOKEN_ID = this.tokenId;\n            }\n            if (this.sessionMerge) {\n                window.CRISP_RUNTIME_CONFIG.session_merge = true;\n            }\n            if (this.locale) {\n                window.CRISP_RUNTIME_CONFIG.locale = this.locale;\n            }\n            if (this.lockFullview) {\n                window.CRISP_RUNTIME_CONFIG.lock_full_view = true;\n            }\n            if (this.lockMaximized) {\n                window.CRISP_RUNTIME_CONFIG.lock_maximized = true;\n            }\n            if (this.cookieDomain) {\n                window.CRISP_COOKIE_DOMAIN = this.cookieDomain;\n            }\n            if (this.cookieExpire) {\n                window.CRISP_COOKIE_EXPIRE = this.cookieExpire;\n            }\n            if (!_head || !_head[0]) {\n                return this.deferredLoading();\n            }\n            if (this.safeMode === true) {\n                this.setSafeMode(true);\n            }\n            var _script = document.createElement(\"script\");\n            _script.src = this.clientUrl;\n            _script.async = true;\n            _head[0].appendChild(_script);\n            this.injected = true;\n        };\n        Crisp.prototype.setTokenId = function (tokenId) {\n            this.tokenId = tokenId;\n            // Refresh injected token?\n            if (this.isCrispInjected() === true) {\n                if (tokenId) {\n                    window.CRISP_TOKEN_ID = tokenId;\n                }\n                else {\n                    delete window.CRISP_TOKEN_ID;\n                }\n            }\n        };\n        Crisp.prototype.setZIndex = function (zIndex) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"container:index\", [zIndex]]);\n        };\n        Crisp.prototype.setColorTheme = function (color) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"color:theme\", [color]]);\n        };\n        Crisp.prototype.setHideOnAway = function (enabled) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"hide:on:away\", [enabled]]);\n        };\n        Crisp.prototype.setHideOnMobile = function (enabled) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"hide:on:mobile\", [enabled]]);\n        };\n        Crisp.prototype.setPosition = function (position) {\n            this.createSingletonIfNecessary();\n            $crisp.push([\"config\", \"position:reverse\", [position === exports.ChatboxPosition.Left]]);\n        };\n        Crisp.prototype.setAvailabilityTooltip = function (enabled) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"availability:tooltip\", [enabled]]);\n        };\n        Crisp.prototype.setVacationMode = function (enabled) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"hide:vacation\", [enabled]]);\n        };\n        Crisp.prototype.setSafeMode = function (safe) {\n            if (safe === void 0) { safe = true; }\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"safe\", safe]);\n        };\n        Crisp.prototype.muteSound = function (mute) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"sound:mute\", [mute]]);\n        };\n        Crisp.prototype.toggleOperatorCount = function (enabled) {\n            this.createSingletonIfNecessary();\n            window.$crisp.push([\"config\", \"show:operator:count\", [enabled]]);\n        };\n        Crisp.prototype.createSingletonIfNecessary = function () {\n            // Assigns $crisp singleton\n            if (window.$crisp === undefined) {\n                window.$crisp = [];\n            }\n        };\n        Crisp.prototype.autoInjectIfNecessasy = function () {\n            if (!this.isCrispInjected()) {\n                this.load();\n            }\n        };\n        Crisp.prototype.isCrispInjected = function () {\n            // Check if Crisp was injected (either from the Web SDK, or from another \\\n            //   source)\n            if (this.injected === true || (window.$crisp && window.$crisp.is)) {\n                return true;\n            }\n            return false;\n        };\n        Crisp.prototype.deferredLoading = function () {\n            var _this = this;\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                _this.load();\n            });\n        };\n        return Crisp;\n    }());\n    var singleton = new Crisp();\n\n    exports.Crisp = singleton;\n    exports.CrispClass = Crisp;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=crisp.umd.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY3Jpc3Atc2RrLXdlYi9kaXN0L2NyaXNwLnVtZC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQUksS0FBNEQ7QUFDaEUsSUFBSSxDQUNpSDtBQUNySCxDQUFDLDhCQUE4Qjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssb0RBQW9EO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHNEQUFzRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMERBQTBEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBLG1EQUFtRCxhQUFhOztBQUVoRSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0MTMtYWktc2Fhcy8uL25vZGVfbW9kdWxlcy9jcmlzcC1zZGstd2ViL2Rpc3QvY3Jpc3AudW1kLmpzP2Q4MTciXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbFtcImNyaXNwLXNkay13ZWJcIl0gPSB7fSkpO1xufSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBDcmlzcE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENyaXNwTWVzc2FnZShjcmlzcCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBjcmlzcDtcbiAgICAgICAgfVxuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAodHlwZSwgY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcIm1lc3NhZ2U6c2VuZFwiLCBbdHlwZSwgY29udGVudF1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zZW5kVGV4dCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmQoXCJ0ZXh0XCIsIGNvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNlbmRGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZChcImZpbGVcIiwgY29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmQoXCJhbmltYXRpb25cIiwgY29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEF1ZGlvID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZChcImF1ZGlvXCIsIGNvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAodHlwZSwgY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcIm1lc3NhZ2U6c2hvd1wiLCBbdHlwZSwgY29udGVudF1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93VGV4dCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNob3coXCJ0ZXh0XCIsIGNvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhcImZpbGVcIiwgY29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0FuaW1hdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNob3coXCJhbmltYXRpb25cIiwgY29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0F1ZGlvID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhcImF1ZGlvXCIsIGNvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dQaWNrZXIgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5zaG93KFwicGlja2VyXCIsIGNvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dGaWVsZCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNob3coXCJmaWVsZFwiLCBjb250ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93Q2Fyb3VzZWwgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5zaG93KFwiY2Fyb3VzZWxcIiwgY29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUubWFya0FzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnJlYWRcIl0pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZVNlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwibWVzc2FnZTpzZW50XCJdKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIm1lc3NhZ2U6c2VudFwiLCBjYWxsYmFja10pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZVJlY2VpdmVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIm1lc3NhZ2U6cmVjZWl2ZWRcIl0pO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwibWVzc2FnZTpyZWNlaXZlZFwiLCBjYWxsYmFja10pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZUNvbXBvc2VTZW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIm1lc3NhZ2U6Y29tcG9zZTpzZW50XCJdKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIm1lc3NhZ2U6Y29tcG9zZTpzZW50XCIsIGNhbGxiYWNrXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUub25NZXNzYWdlQ29tcG9zZVJlY2VpdmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwibWVzc2FnZTpjb21wb3NlOnJlY2VpdmVkXCJdKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIm1lc3NhZ2U6Y29tcG9zZTpyZWNlaXZlZFwiLCBjYWxsYmFja10pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ3Jpc3BNZXNzYWdlO1xuICAgIH0oKSk7XG5cbiAgICB2YXIgQ3Jpc3BVc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDcmlzcFVzZXIoY3Jpc3ApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgICAgIH1cbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXROaWNrbmFtZSA9IGZ1bmN0aW9uIChuaWNrbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJ1c2VyOm5pY2tuYW1lXCIsIFtuaWNrbmFtZV1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCwgaG1hYykge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJ1c2VyOmVtYWlsXCIsIFtlbWFpbCwgaG1hY11dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJ1c2VyOnBob25lXCIsIFtwaG9uZV1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXRBdmF0YXIgPSBmdW5jdGlvbiAoYXZhdGFyKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInVzZXI6YXZhdGFyXCIsIFthdmF0YXJdXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwVXNlci5wcm90b3R5cGUuc2V0Q29tcGFueSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgX3BheWxvYWQgPSB7fTtcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEudXJsKSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQudXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5lbXBsb3ltZW50KSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQuZW1wbG95bWVudCA9IFtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5lbXBsb3ltZW50LnRpdGxlXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lbXBsb3ltZW50LnJvbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BheWxvYWQuZW1wbG95bWVudC5wdXNoKGRhdGEuZW1wbG95bWVudC5yb2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInVzZXI6Y29tcGFueVwiLCBbbmFtZSwgX3BheWxvYWRdXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0RW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJ1c2VyOmVtYWlsXCIpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcFVzZXIucHJvdG90eXBlLmdldFBob25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjpwaG9uZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5nZXROaWNrbmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcInVzZXI6bmlja25hbWVcIik7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0QXZhdGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjphdmF0YXJcIik7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0Q29tcGFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcInVzZXI6Y29tcGFueVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkVtYWlsQ2hhbmdlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcInVzZXI6ZW1haWw6Y2hhbmdlZFwiXSk7XG4gICAgICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwidXNlcjplbWFpbDpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwVXNlci5wcm90b3R5cGUub25QaG9uZUNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJ1c2VyOnBob25lOmNoYW5nZWRcIl0pO1xuICAgICAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcInVzZXI6cGhvbmU6Y2hhbmdlZFwiLCBjYWxsYmFja10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDcmlzcFVzZXIucHJvdG90eXBlLm9uTmlja25hbWVDaGFuZ2VkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwidXNlcjpuaWNrbmFtZTpjaGFuZ2VkXCJdKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ1c2VyOm5pY2tuYW1lOmNoYW5nZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkF2YXRhckNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJ1c2VyOmF2YXRhcjpjaGFuZ2VkXCJdKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ1c2VyOmF2YXRhcjpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBDcmlzcFVzZXI7XG4gICAgfSgpKTtcblxuICAgIHZhciBDcmlzcFRyaWdnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENyaXNwVHJpZ2dlcihjcmlzcCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBjcmlzcDtcbiAgICAgICAgfVxuICAgICAgICBDcmlzcFRyaWdnZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwidHJpZ2dlcjpydW5cIiwgW25hbWVdXSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBDcmlzcFRyaWdnZXI7XG4gICAgfSgpKTtcblxuICAgIGV4cG9ydHMuRXZlbnRzQ29sb3JzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoRXZlbnRzQ29sb3JzKSB7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIlJlZFwiXSA9IFwicmVkXCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIk9yYW5nZVwiXSA9IFwib3JhbmdlXCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIlllbGxvd1wiXSA9IFwieWVsbG93XCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIkdyZWVuXCJdID0gXCJncmVlblwiO1xuICAgICAgICBFdmVudHNDb2xvcnNbXCJCbHVlXCJdID0gXCJibHVlXCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIlB1cnBsZVwiXSA9IFwicHVycGxlXCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIlBpbmtcIl0gPSBcInBpbmtcIjtcbiAgICAgICAgRXZlbnRzQ29sb3JzW1wiQnJvd25cIl0gPSBcImJyb3duXCI7XG4gICAgICAgIEV2ZW50c0NvbG9yc1tcIkdyZXlcIl0gPSBcImdyZXlcIjtcbiAgICAgICAgRXZlbnRzQ29sb3JzW1wiQmxhY2tcIl0gPSBcImJsYWNrXCI7XG4gICAgfSkoZXhwb3J0cy5FdmVudHNDb2xvcnMgfHwgKGV4cG9ydHMuRXZlbnRzQ29sb3JzID0ge30pKTtcbiAgICB2YXIgQ3Jpc3BTZXNzaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDcmlzcFNlc3Npb24oY3Jpc3ApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gY3Jpc3A7XG4gICAgICAgIH1cbiAgICAgICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChyZWxvYWQpIHtcbiAgICAgICAgICAgIGlmIChyZWxvYWQgPT09IHZvaWQgMCkgeyByZWxvYWQgPSBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LiRjcmlzcC5kbyhcInNlc3Npb246cmVzZXRcIiwgW3JlbG9hZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLnNldFNlZ21lbnRzID0gZnVuY3Rpb24gKHNlZ21lbnRzLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICAkY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJzZXNzaW9uOnNlZ21lbnRzXCIsIFtzZWdtZW50cywgb3ZlcndyaXRlXV0pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfcGF5bG9hZCA9IFtdO1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZhbGlkRGF0YVZhbHVlKGl0ZW1bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXlsb2FkLnB1c2goW2l0ZW1bMF0sIGl0ZW1bMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICAkY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJzZXNzaW9uOmRhdGFcIiwgW19wYXlsb2FkXV0pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLnB1c2hFdmVudCA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBjb2xvcikge1xuICAgICAgICAgICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0ge307IH1cbiAgICAgICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gZXhwb3J0cy5FdmVudHNDb2xvcnMuQmx1ZTsgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInNlc3Npb246ZXZlbnRcIiwgW1tbbmFtZSwgZGF0YSwgY29sb3JdXV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJzZXNzaW9uOmRhdGFcIiwga2V5KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5nZXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwic2Vzc2lvbjppZGVudGlmaWVyXCIpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLm9uTG9hZGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcInNlc3Npb246bG9hZGVkXCJdKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcInNlc3Npb246bG9hZGVkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUuaXNWYWxpZERhdGFWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENyaXNwU2Vzc2lvbjtcbiAgICB9KCkpO1xuXG4gICAgdmFyIENyaXNwQ2hhdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ3Jpc3BDaGF0KGNyaXNwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IGNyaXNwO1xuICAgICAgICB9XG4gICAgICAgIENyaXNwQ2hhdC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmF1dG9JbmplY3RJZk5lY2Vzc2FzeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwiY2hhdDpzaG93XCJdKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuYXV0b0luamVjdElmTmVjZXNzYXN5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJjaGF0OmhpZGVcIl0pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcENoYXQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hdXRvSW5qZWN0SWZOZWNlc3Nhc3koKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImNoYXQ6b3BlblwiXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwQ2hhdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJjaGF0OmNsb3NlXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS51bnJlYWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcImNoYXQ6dW5yZWFkOmNvdW50XCIpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcENoYXQucHJvdG90eXBlLmlzQ2hhdE9wZW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6b3BlbmVkXCIpO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcENoYXQucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6dmlzaWJsZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vbkNoYXRJbml0aWF0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwiY2hhdDppbml0aWF0ZWRcIl0pO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiY2hhdDppbml0aWF0ZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vbkNoYXRPcGVuZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwiY2hhdDpvcGVuZWRcIl0pO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiY2hhdDpvcGVuZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vbkNoYXRDbG9zZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwiY2hhdDpjbG9zZWRcIl0pO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiY2hhdDpjbG9zZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENyaXNwQ2hhdDtcbiAgICB9KCkpO1xuXG4gICAgZXhwb3J0cy5DaGF0Ym94Q29sb3JzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoQ2hhdGJveENvbG9ycykge1xuICAgICAgICBDaGF0Ym94Q29sb3JzW1wiRGVmYXVsdFwiXSA9IFwiZGVmYXVsdFwiO1xuICAgICAgICBDaGF0Ym94Q29sb3JzW1wiQW1iZXJcIl0gPSBcImFtYmVyXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJCbGFja1wiXSA9IFwiYmxhY2tcIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIkJsdWVcIl0gPSBcImJsdWVcIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIkJsdWVHcmV5XCJdID0gXCJibHVlX2dyZXlcIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIkxpZ2h0Qmx1ZVwiXSA9IFwibGlnaHRfYmx1ZVwiO1xuICAgICAgICBDaGF0Ym94Q29sb3JzW1wiQnJvd25cIl0gPSBcImJyb3duXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJDeWFuXCJdID0gXCJjeWFuXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJHcmVlblwiXSA9IFwiZ3JlZW5cIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIkxpZ2h0R3JlZW5cIl0gPSBcImxpZ2h0X2dyZWVuXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJHcmV5XCJdID0gXCJncmV5XCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJJbmRpZ29cIl0gPSBcImluZGlnb1wiO1xuICAgICAgICBDaGF0Ym94Q29sb3JzW1wiT3JhbmdlXCJdID0gXCJvcmFuZ2VcIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIkRlZXBPcmFuZ2VcIl0gPSBcImRlZXBfb3JhbmdlXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJQaW5rXCJdID0gXCJwaW5rXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJQdXJwbGVcIl0gPSBcInB1cnBsZVwiO1xuICAgICAgICBDaGF0Ym94Q29sb3JzW1wiRGVlcFB1cnBsZVwiXSA9IFwiZGVlcF9wdXJwbGVcIjtcbiAgICAgICAgQ2hhdGJveENvbG9yc1tcIlJlZFwiXSA9IFwicmVkXCI7XG4gICAgICAgIENoYXRib3hDb2xvcnNbXCJUZWFsXCJdID0gXCJ0ZWFsXCI7XG4gICAgfSkoZXhwb3J0cy5DaGF0Ym94Q29sb3JzIHx8IChleHBvcnRzLkNoYXRib3hDb2xvcnMgPSB7fSkpO1xuICAgIGV4cG9ydHMuQ2hhdGJveFBvc2l0aW9uID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoQ2hhdGJveFBvc2l0aW9uKSB7XG4gICAgICAgIENoYXRib3hQb3NpdGlvbltcIkxlZnRcIl0gPSBcImxlZnRcIjtcbiAgICAgICAgQ2hhdGJveFBvc2l0aW9uW1wiUmlnaHRcIl0gPSBcInJpZ2h0XCI7XG4gICAgfSkoZXhwb3J0cy5DaGF0Ym94UG9zaXRpb24gfHwgKGV4cG9ydHMuQ2hhdGJveFBvc2l0aW9uID0ge30pKTtcbiAgICB2YXIgQ3Jpc3AgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENyaXNwKCkge1xuICAgICAgICAgICAgLy8gT3B0aW9uc1xuICAgICAgICAgICAgdGhpcy5jbGllbnRVcmwgPSBcImh0dHBzOi8vY2xpZW50LmNyaXNwLmNoYXQvbC5qc1wiO1xuICAgICAgICAgICAgdGhpcy53ZWJzaXRlSWQgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5hdXRvbG9hZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBTdGF0ZXNcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2hhdCA9IG5ldyBDcmlzcENoYXQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBuZXcgQ3Jpc3BTZXNzaW9uKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy51c2VyID0gbmV3IENyaXNwVXNlcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG5ldyBDcmlzcE1lc3NhZ2UodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBuZXcgQ3Jpc3BUcmlnZ2VyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIENyaXNwLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAod2Vic2l0ZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAgICAgdGhpcy53ZWJzaXRlSWQgPSB3ZWJzaXRlSWQ7XG4gICAgICAgICAgICB0aGlzLnRva2VuSWQgPSBvcHRpb25zLnRva2VuSWQ7XG4gICAgICAgICAgICB0aGlzLmxvY2FsZSA9IG9wdGlvbnMubG9jYWxlO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uTWVyZ2UgPSBvcHRpb25zLnNlc3Npb25NZXJnZTtcbiAgICAgICAgICAgIHRoaXMuY29va2llRG9tYWluID0gb3B0aW9ucy5jb29raWVEb21haW47XG4gICAgICAgICAgICB0aGlzLmxvY2tGdWxsdmlldyA9IG9wdGlvbnMubG9ja0Z1bGx2aWV3O1xuICAgICAgICAgICAgdGhpcy5sb2NrTWF4aW1pemVkID0gb3B0aW9ucy5sb2NrTWF4aW1pemVkO1xuICAgICAgICAgICAgdGhpcy5zYWZlTW9kZSA9IG9wdGlvbnMuc2FmZU1vZGU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jbGllbnRVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50VXJsID0gb3B0aW9ucy5jbGllbnRVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvbG9hZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvbG9hZCA9IG9wdGlvbnMuYXV0b2xvYWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdXRvbG9hZCBDcmlzcCBpZiBvcHRpb24gaXMgZW5hYmxlZFxuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b2xvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2hlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICAvLyBQcmV2ZW50cyBmcm9tIGxvYWRpbmcgQ3Jpc3AgdHdpY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ3Jpc3BJbmplY3RlZCgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLndlYnNpdGVJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIndlYnNpdGVJZCBtdXN0IGJlIHNldCBiZWZvcmUgbG9hZGluZyBDcmlzcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9XRUJTSVRFX0lEID0gdGhpcy53ZWJzaXRlSWQ7XG4gICAgICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcgPSB7fTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuSWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuQ1JJU1BfVE9LRU5fSUQgPSB0aGlzLnRva2VuSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uTWVyZ2UpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcuc2Vzc2lvbl9tZXJnZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NhbGUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcubG9jYWxlID0gdGhpcy5sb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NrRnVsbHZpZXcpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuQ1JJU1BfUlVOVElNRV9DT05GSUcubG9ja19mdWxsX3ZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubG9ja01heGltaXplZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5DUklTUF9SVU5USU1FX0NPTkZJRy5sb2NrX21heGltaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb29raWVEb21haW4pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuQ1JJU1BfQ09PS0lFX0RPTUFJTiA9IHRoaXMuY29va2llRG9tYWluO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29va2llRXhwaXJlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LkNSSVNQX0NPT0tJRV9FWFBJUkUgPSB0aGlzLmNvb2tpZUV4cGlyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX2hlYWQgfHwgIV9oZWFkWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWRMb2FkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zYWZlTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2FmZU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBfc2NyaXB0LnNyYyA9IHRoaXMuY2xpZW50VXJsO1xuICAgICAgICAgICAgX3NjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICBfaGVhZFswXS5hcHBlbmRDaGlsZChfc2NyaXB0KTtcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcC5wcm90b3R5cGUuc2V0VG9rZW5JZCA9IGZ1bmN0aW9uICh0b2tlbklkKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuSWQgPSB0b2tlbklkO1xuICAgICAgICAgICAgLy8gUmVmcmVzaCBpbmplY3RlZCB0b2tlbj9cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ3Jpc3BJbmplY3RlZCgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LkNSSVNQX1RPS0VOX0lEID0gdG9rZW5JZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuQ1JJU1BfVE9LRU5fSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDcmlzcC5wcm90b3R5cGUuc2V0WkluZGV4ID0gZnVuY3Rpb24gKHpJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImNvbnRhaW5lcjppbmRleFwiLCBbekluZGV4XV0pO1xuICAgICAgICB9O1xuICAgICAgICBDcmlzcC5wcm90b3R5cGUuc2V0Q29sb3JUaGVtZSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImNvbG9yOnRoZW1lXCIsIFtjb2xvcl1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLnNldEhpZGVPbkF3YXkgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImhpZGU6b246YXdheVwiLCBbZW5hYmxlZF1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLnNldEhpZGVPbk1vYmlsZSA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiaGlkZTpvbjptb2JpbGVcIiwgW2VuYWJsZWRdXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwicG9zaXRpb246cmV2ZXJzZVwiLCBbcG9zaXRpb24gPT09IGV4cG9ydHMuQ2hhdGJveFBvc2l0aW9uLkxlZnRdXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwLnByb3RvdHlwZS5zZXRBdmFpbGFiaWxpdHlUb29sdGlwID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJhdmFpbGFiaWxpdHk6dG9vbHRpcFwiLCBbZW5hYmxlZF1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLnNldFZhY2F0aW9uTW9kZSA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiaGlkZTp2YWNhdGlvblwiLCBbZW5hYmxlZF1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLnNldFNhZmVNb2RlID0gZnVuY3Rpb24gKHNhZmUpIHtcbiAgICAgICAgICAgIGlmIChzYWZlID09PSB2b2lkIDApIHsgc2FmZSA9IHRydWU7IH1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzYWZlXCIsIHNhZmVdKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLm11dGVTb3VuZCA9IGZ1bmN0aW9uIChtdXRlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwic291bmQ6bXV0ZVwiLCBbbXV0ZV1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLnRvZ2dsZU9wZXJhdG9yQ291bnQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcInNob3c6b3BlcmF0b3I6Y291bnRcIiwgW2VuYWJsZWRdXSk7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwLnByb3RvdHlwZS5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEFzc2lnbnMgJGNyaXNwIHNpbmdsZXRvblxuICAgICAgICAgICAgaWYgKHdpbmRvdy4kY3Jpc3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ3Jpc3AucHJvdG90eXBlLmF1dG9JbmplY3RJZk5lY2Vzc2FzeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDcmlzcC5wcm90b3R5cGUuaXNDcmlzcEluamVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgQ3Jpc3Agd2FzIGluamVjdGVkIChlaXRoZXIgZnJvbSB0aGUgV2ViIFNESywgb3IgZnJvbSBhbm90aGVyIFxcXG4gICAgICAgICAgICAvLyAgIHNvdXJjZSlcbiAgICAgICAgICAgIGlmICh0aGlzLmluamVjdGVkID09PSB0cnVlIHx8ICh3aW5kb3cuJGNyaXNwICYmIHdpbmRvdy4kY3Jpc3AuaXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIENyaXNwLnByb3RvdHlwZS5kZWZlcnJlZExvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ3Jpc3A7XG4gICAgfSgpKTtcbiAgICB2YXIgc2luZ2xldG9uID0gbmV3IENyaXNwKCk7XG5cbiAgICBleHBvcnRzLkNyaXNwID0gc2luZ2xldG9uO1xuICAgIGV4cG9ydHMuQ3Jpc3BDbGFzcyA9IENyaXNwO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jpc3AudW1kLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/crisp-sdk-web/dist/crisp.umd.js\n");

/***/ })

};
;